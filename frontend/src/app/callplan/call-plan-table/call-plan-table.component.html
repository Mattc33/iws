<section>
    <div class="all-callplans-container">
        <ag-grid-angular class="ag-theme-balham" id="all-callplans" [animateRows]="true"
            [columnDefs]="columnDefs" [rowData]="rowData"
            [rowSelection]="defineRowSelectionTypeS" (selectionChanged)="onSelectionChangedCallPlanTable()($event)" (rowSelected)="aggrid_rowSelected($event)" [suppressRowClickSelection]="true"
            [stopEditingWhenGridLosesFocus]="true" (cellValueChanged)="onCellValueChanged($event)" [singleClickEdit]="true"
            [enableFilter]="true" [floatingFilter]="true" [enableSorting]="true"
            [enableColResize]="true" (gridSizeChanged)="onGridSizeChanged($event)"
            [pagination]="true" [paginationAutoPageSize]="true"
            [suppressLoadingOverlay]="true" [suppressNoRowsOverlay]="true"
            [headerHeight]="40" [floatingFiltersHeight]="30"
            [enableCellChangeFlash]="true"

            (gridReady)="on_GridReady_Callplan($event)"
        >
        </ag-grid-angular>

        <mat-toolbar-row>
            <button (click)="openDialogDel()" [disabled]="toggleButtonStatus()" class="del"> <i class="fas fa-trash-alt"></i> </button>
            <button (click)="openDialogAddCallPlan()"> <i class="fas fa-plus"></i> Call Plan</button>
            <button [disabled]="toggleButtonStatus()" (click)="click_sendToLCR()"> <i class="fas fa-server"></i> Send Callplan</button>
        </mat-toolbar-row>
    </div>

    <div class="details-container">
        <mat-tab-group>
            <mat-tab label="More Details">
                <ag-grid-angular class="ag-theme-balham" id="call-plans-detail" [animateRows]="true"
                    [columnDefs]="columnDefsDetail" [rowData]=""
                    [stopEditingWhenGridLosesFocus]="true" [singleClickEdit]="true" (cellValueChanged)="onCellValueChanged($event)"
                    [enableColResize]="true" (gridSizeChanged)="onGridSizeChanged($event)"
                    [enableCellChangeFlash]="true"
                    [suppressLoadingOverlay]="true" [suppressNoRowsOverlay]="true"
                    [headerHeight]="40" [floatingFiltersHeight]="30"

                    (gridReady)="on_GridReady_Details($event)"
                >
                </ag-grid-angular>
                <ag-grid-angular class="ag-theme-balham" id="call-plans-detail2" [animateRows]="true"
                    [columnDefs]="columnDefsDetail2" [rowData]=""
                    [stopEditingWhenGridLosesFocus]="true" [singleClickEdit]="true" (cellValueChanged)="onCellValueChanged($event)"
                    [enableColResize]="true" (gridSizeChanged)="onGridSizeChanged($event)"
                    [suppressNoRowsOverlay]="true" [suppressLoadingOverlay]="true"
                    [enableCellChangeFlash]="true"
                    [headerHeight]="40" [floatingFiltersHeight]="30"
                    
                    (gridReady)="on_GridReady_Details2($event)"
                >
                </ag-grid-angular>
            </mat-tab>
            <mat-tab label="Rate Cards">
                    <ag-grid-angular class="ag-theme-balham" id="call-plans-ratecards" [animateRows]="true"
                        [getNodeChildDetails]="getNodeChildDetails"
                        [columnDefs]="columnDefsRatecards" [rowData]=""  (rowSelected)="aggrid_rowSelected_ratecards($event)"
                        [rowSelection]="defineRowSelectionType" (selectionChanged)="aggrid_rateCards_selectionChanged($event)" [groupSelectsChildren]="true" [suppressRowClickSelection]="true"
                        [stopEditingWhenGridLosesFocus]="true" 
                        [enableFilter]="true" [floatingFilter]="true"
                        [enableSorting]="true"
                        [enableColResize]="true" (gridSizeChanged)="onGridSizeChanged($event)"
                        [pagination]="true" [paginationAutoPageSize]="true"
                        [suppressLoadingOverlay]="true" [enableCellChangeFlash]="true"
                        [headerHeight]="40" [floatingFiltersHeight]="30"

                        (gridReady)="on_GridReady_Ratecards($event)"
                    >
                    </ag-grid-angular>

                    <mat-toolbar-row class="toolbar-details">
                        <button (click)="openDialogDetachRatecards()" [disabled]="toggleButtonStatus_ratecards()" class="del"> <i class="fas fa-trash-alt"></i> </button>
                        <button (click)="openDialogAttachRateCard()" [disabled]="toggleButtonStatus()"> <i class="fas fa-plus-circle"></i> Ratecard</button>
                        <mat-form-field class="search-bar">
                            <span matPrefix><i class="fas fa-search"></i> &nbsp;</span>
                            <input matInput placeholder="Global Search..." (keyup)="onQuickFilterChanged()" [(ngModel)]="quickSearchValue">
                        </mat-form-field>
                    </mat-toolbar-row>
            </mat-tab>
            <mat-tab label="Codes">
                <ag-grid-angular class="ag-theme-balham" id="call-plans-codes" [animateRows]="true"
                    [columnDefs]="columnDefsCodes" [rowData]="" (rowSelected)="aggrid_rowSelected_codes($event)"
                    [rowSelection]="defineRowSelectionType" (selectionChanged)="aggrid_codes_selectionChanged($event)" [suppressRowClickSelection]="true"
                    [stopEditingWhenGridLosesFocus]="true" [singleClickEdit]="true" (cellValueChanged)="onCellValueChanged_codes($event)"
                    [enableFilter]="true" [floatingFilter]="true"
                    [enableSorting]="true"
                    [enableColResize]="true" (gridSizeChanged)="onGridSizeChanged($event)"
                    [pagination]="true" [paginationAutoPageSize]="true"
                    [suppressLoadingOverlay]="true"
                    [enableCellChangeFlash]="true"
                    [headerHeight]="40" [floatingFiltersHeight]="30"

                    (gridReady)="on_GridReady_Codes($event)"
                >
                </ag-grid-angular>
                <mat-toolbar-row class="toolbar-details">
                    <button (click)="openDialogDetachCodes()" [disabled]="toggleButtonStatus_codes()" class="del"> <i class="fas fa-trash-alt"></i> </button>
                    <button (click)="openDialogAttachCode()" [disabled]="toggleButtonStatus()"> <i class="fas fa-plus-circle"></i> Code</button>
                    <mat-form-field class="search-bar">
                        <span matPrefix><i class="fas fa-search"></i> &nbsp;</span>
                        <input matInput placeholder="Global Search..." (keyup)="onQuickFilterChanged()" [(ngModel)]="quickSearchValue">
                    </mat-form-field>
                </mat-toolbar-row>
            </mat-tab>
        </mat-tab-group>
    </div>

</section>